var e=require("axios"),r=require("lodash/omit"),t=require("qs");function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o=n(e),u=n(r),i=n(t);function a(){return(a=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}var c=function(e){return a({beforeRequest:function(){},onError:function(){}},e)},s={400:"",401:"请求要求用户的身份认证",402:"保留将来使用",403:"请求被服务端拒绝",404:"请求资源无法找到",405:"请求方法被禁止",406:"服务端无法根据客户端请求的内容特性完成请求",407:"应当使用代理进行授权",408:"请求时间过长",500:"服务端内部错误",501:"服务端不支持请求的功能",502:"无效的响应",503:"超载或系统维护无法处理请求",505:"服务器不支持请求的HTTP协议的版本"},f=c(),d=o.default.create({timeout:1e4,withCredentials:!1,responseType:"json",validateStatus:function(e){return e>=200&&e<300},transformRequest:function(e,r){var t={};return r["Content-Type"]="application/json",f.beforeRequest(e,r),"formData"===(null==e?void 0:e.bodyType)?(t=i.default.stringify(u.default(e,["bodyType"])),r["Content-Type"]="application/x-www-form-urlencoded",t):u.default(e,["bodyType"])},transformResponse:function(e){return a({msg:e.msg,data:null==e?void 0:e.data,code:null==e?void 0:e.code},u.default(e,["msg","data","code"]))}});d.interceptors.request.use(function(e){return e},function(e){return Promise.reject(e)}),d.interceptors.response.use(function(e){return function(e,r){var t;return"200"!=(null==e||null==(t=e.data)?void 0:t.code)?(r.onError&&r.onError(null==e?void 0:e.data),Promise.reject(e)):e}(e,f)},function(e){return function(e,r){return e&&e.response?r.onError&&r.onError(s[status]):r.onError&&r.onError("服务器无响应"),Promise.reject(e)}(e,f)});var l={get:function(e){return function(r){return d({method:"GET",url:e,params:r}).then(function(e){return Promise.resolve(e.data)}).catch(function(e){return Promise.reject(e)})}},post:function(e,r){return function(t){return d({method:"POST",url:e,data:Object.assign({},t,{bodyType:null==r?void 0:r.bodyType})}).then(function(e){return Promise.resolve(e.data)}).catch(function(e){return Promise.reject(e)})}},put:function(e){return function(r){return d({method:"PUT",url:e,data:r}).then(function(e){return Promise.resolve(e.data)}).catch(function(e){return Promise.reject(e)})}},delete:function(e){return function(r){return d({method:"DELETE",url:e,params:r}).then(function(e){return Promise.resolve(e.data)}).catch(function(e){return Promise.reject(e)})}},patch:function(e){return function(r){return d({method:"PATCH",url:e,data:r}).then(function(e){return Promise.resolve(e.data)}).catch(function(e){return Promise.reject(e)})}}};exports.configure=function(e){f=a({},f,e)},exports.default=l,exports.getDefaultConfig=c,exports.instance=d;
//# sourceMappingURL=index.js.map
