import t from"axios";import e from"lodash/omit";import r from"qs";function n(){return(n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}var o=function(t){return n({beforeRequest:function(){}},t)},u={400:"",401:"请求要求用户的身份认证",402:"保留将来使用",403:"请求被服务端拒绝",404:"请求资源无法找到",405:"请求方法被禁止",406:"服务端无法根据客户端请求的内容特性完成请求",407:"应当使用代理进行授权",408:"请求时间过长",500:"服务端内部错误",501:"服务端不支持请求的功能",502:"无效的响应",503:"超载或系统维护无法处理请求",505:"服务器不支持请求的HTTP协议的版本"},i=o(),c=t.create({timeout:1e4,withCredentials:!1,responseType:"json",validateStatus:function(t){return t>=200&&t<300},transformRequest:function(t,n){var o={};return n["Content-Type"]="application/json",i.beforeRequest(t,n),"formData"===(null==t?void 0:t.bodyType)?(o=r.stringify(e(t,["bodyType"])),n["Content-Type"]="application/x-www-form-urlencoded",o):e(t,["bodyType"])}});c.interceptors.request.use(function(t){return t},function(t){return Promise.reject(t)}),c.interceptors.response.use(function(t){return t},function(t){return t&&t.response?console.error(u[status]):console.error("服务器无响应"),t});var a={get:function(t){return function(e){return c({method:"GET",url:t,params:e}).then(function(t){return Promise.resolve(t.data)}).catch(function(t){return Promise.reject(t)})}},post:function(t,e){return function(r){return c({method:"POST",url:t,data:Object.assign({},r,{bodyType:null==e?void 0:e.bodyType})}).then(function(t){return Promise.resolve(t.data)}).catch(function(t){return Promise.reject(t)})}},put:function(t){return function(e){return c({method:"PUT",url:t,data:e}).then(function(t){return Promise.resolve(t.data)}).catch(function(t){return Promise.reject(t)})}},delete:function(t){return function(e){return c({method:"DELETE",url:t,params:e}).then(function(t){return Promise.resolve(t.data)}).catch(function(t){return Promise.reject(t)})}},patch:function(t){return function(e){return c({method:"PATCH",url:t,data:e}).then(function(t){return Promise.resolve(t.data)}).catch(function(t){return Promise.reject(t)})}}},s=function(t){i=n({},i,t)};export default a;export{s as configure,o as getDefaultConfig,c as instance};
//# sourceMappingURL=index.es.js.map
